<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>쉐어스팟 - 판매/대여 내역</title>
    <link rel="stylesheet" href="../Css/style.css" />
    <link rel="stylesheet" href="../Css/history.css" />
    <style>
      /* 탭 전환을 위한 간단한 스타일 */
      .hidden {
        display: none !important;
      }
    </style>
  </head>

  <body>
    <div class="sidebar">
      <div class="brand">
        <img src="../Images/logo.png" alt="로고" class="brand-logo" />
        <div class="brand-text">
          <h1>쉐어스팟</h1>
          <p id="sidebarDongText">시흥시 정왕동</p>
        </div>
      </div>

      <div class="menu">
        <a href="main.html" class="menu-item">
          <span class="menu-icon">🏠</span> 홈
        </a>

        <a href="chat.html" class="menu-item">
          <span class="menu-icon">💬</span> 채팅
          <span class="badge" id="chatBadge" style="display: none"></span>
        </a>

        <a href="my.html" class="menu-item active">
          <span class="menu-icon">👤</span> 나의 시흥
        </a>
      </div>

      <a href="#" class="login" id="logoutBtn"> <span>📕</span> 로그아웃 </a>
    </div>

    <div class="main-content history-layout">
      <div class="edit-header">
        <button class="cancel-btn" onclick="history.back()">나가기</button>
        <div class="header-title">판매/대여 내역</div>
        <div style="width: 48px"></div>
      </div>

      <div class="tabs">
        <div
          class="tab-item active"
          id="tabSelling"
          onclick="switchTab('selling')"
        >
          판매중 (<span id="sellingCount">0</span>)
        </div>

        <div class="tab-item" id="tabSold" onclick="switchTab('sold')">
          거래완료 (<span id="soldCount">0</span>)
        </div>
      </div>

      <div class="history-list" id="selling-list"></div>
      <div class="history-list hidden" id="sold-list"></div>
    </div>

    <!-- 로그아웃 모달(기존 컴포넌트용) -->
    <div id="logoutModalContainer"></div>

    <!-- confirm-modal.html이 들어갈 루트 -->
    <div id="modal-root"></div>

    <!-- 로그인 가드 -->
    <script src="../JS/auth.js"></script>
    <script>
      Auth.guard();
    </script>

    <!-- 사이드바 로그인/로그아웃 UI -->
    <script src="../Components/sidebar-auth.js"></script>

    <!-- ✅ history 전용 로직(목록 로딩 + 삭제 버튼 + confirm 모달 재사용) -->
    <script src="../JS/history.js"></script>
  </body>
</html>
