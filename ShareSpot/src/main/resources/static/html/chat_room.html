<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>쉐어스팟 - 채팅방</title>
    <link rel="stylesheet" href="../Css/style.css" />
    <link rel="stylesheet" href="../Css/chat_room.css" />
  </head>
  <body>
    <div class="sidebar">
      <div class="brand">
        <img src="../Images/logo.png" alt="로고" class="brand-logo" />
        <div class="brand-text">
          <h1>쉐어스팟</h1>
          <p id="sidebarDongText">시흥시 정왕동</p>
        </div>
      </div>
      <div class="menu">
        <a href="main.html" class="menu-item"
          ><span class="menu-icon">🏠</span> 홈</a
        >
        <a href="chat.html" class="menu-item active"
          ><span class="menu-icon">💬</span> 채팅</a
        >
        <a href="my.html" class="menu-item"
          ><span class="menu-icon">👤</span> 나의 시흥</a
        >
      </div>
      <a href="#" class="login" id="logoutBtn"><span>📕</span> 로그아웃</a>
    </div>

    <div class="main-content chat-room-layout">
      <div class="chat-room-header">
        <button class="back-btn" onclick="history.back()">←</button>
        <div class="header-info">
          <span class="header-name"></span>
          <span class="header-sub"></span>
        </div>
      </div>

      <div class="product-bar">
        <div class="product-img-box">
          <img src="https://placehold.co/64x64" alt="물품" />
        </div>
        <div class="product-info">
          <div class="product-title"></div>
          <div class="product-status"></div>
        </div>
        <button id="btnLeave" class="view-btn">나가기</button>
      </div>

      <!-- ✅ 더미 제거: 대화 영역은 비워둠 -->
      <div class="message-area"></div>

      <!-- ✅ 입력창은 message-area 밖에 있어야 함 -->
      <div class="chat-input-bar">
        <button class="icon-btn">+</button>
        <div class="input-wrapper">
          <input type="text" placeholder="메시지를 입력하세요" />
        </div>
        <button class="send-btn">➤</button>
      </div>
    </div>

    <script src="../JS/auth.js"></script>
    <script>
      Auth.guard();
    </script>

    <div id="modal-root"></div>
    <script src="../Components/sidebar-auth.js"></script>

    <!-- ✅ DB+폴링 방식이면 아래 3개는 필요 없음(지워도 됨) -->
    <!-- <script src="https://cdn.jsdelivr.net/npm/sockjs-client@1/dist/sockjs.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/stompjs@2.3.3/lib/stomp.min.js"></script>
    <script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script> -->

    <script src="../JS/chat.js"></script>
  </body>
</html>
